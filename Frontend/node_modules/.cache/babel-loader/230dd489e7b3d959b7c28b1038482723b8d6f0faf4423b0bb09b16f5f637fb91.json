{"ast":null,"code":"// src/App.js\nimport React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{getCodeFromUrl,exchangeCodeForToken,login}from'./services/auth';import{jsx as _jsx}from\"react/jsx-runtime\";const App=()=>{const navigate=useNavigate();useEffect(()=>{console.log(\"App carregado\");const code=getCodeFromUrl();console.log(\"C贸digo na URL:\",code);if(code){console.log(\"Trocando c贸digo por token...\");exchangeCodeForToken(code).then(()=>{window.history.replaceState({},document.title,\"/\");navigate('/main');});}else{const token=localStorage.getItem('id_token');console.log(\"Token no localStorage:\",token);if(!token){console.log(\"Nenhum token encontrado, redirecionando para o Cognito...\");login();// Deve redirecionar para o Cognito\n}else{console.log(\"Token encontrado, redirecionando para /main\");navigate('/main');}}},[navigate]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"AdamChat\"})});};export default App;","map":{"version":3,"names":["React","useEffect","useNavigate","getCodeFromUrl","exchangeCodeForToken","login","jsx","_jsx","App","navigate","console","log","code","then","window","history","replaceState","document","title","token","localStorage","getItem","children"],"sources":["C:/Users/dudu-/Python Projects/AdamChat/Frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getCodeFromUrl, exchangeCodeForToken, login } from './services/auth';\r\n\r\nconst App = () => {\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n      console.log(\"App carregado\");\r\n      const code = getCodeFromUrl();\r\n      console.log(\"C贸digo na URL:\", code);\r\n      if (code) {\r\n          console.log(\"Trocando c贸digo por token...\");\r\n          exchangeCodeForToken(code).then(() => {\r\n              window.history.replaceState({}, document.title, \"/\");\r\n              navigate('/main');\r\n          });\r\n      } else {\r\n          const token = localStorage.getItem('id_token');\r\n          console.log(\"Token no localStorage:\", token);\r\n          if (!token) {\r\n              console.log(\"Nenhum token encontrado, redirecionando para o Cognito...\");\r\n              login(); // Deve redirecionar para o Cognito\r\n          } else {\r\n              console.log(\"Token encontrado, redirecionando para /main\");\r\n              navigate('/main');\r\n          }\r\n      }\r\n  }, [navigate]);\r\n  \r\n\r\n    return (\r\n        <div>\r\n            <h1>AdamChat</h1>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,CAAEC,oBAAoB,CAAEC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CACd,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACdS,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAC5B,KAAM,CAAAC,IAAI,CAAGT,cAAc,CAAC,CAAC,CAC7BO,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEC,IAAI,CAAC,CACnC,GAAIA,IAAI,CAAE,CACNF,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC,CAC3CP,oBAAoB,CAACQ,IAAI,CAAC,CAACC,IAAI,CAAC,IAAM,CAClCC,MAAM,CAACC,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,CAAEC,QAAQ,CAACC,KAAK,CAAE,GAAG,CAAC,CACpDT,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,IAAM,CACH,KAAM,CAAAU,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9CX,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEQ,KAAK,CAAC,CAC5C,GAAI,CAACA,KAAK,CAAE,CACRT,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC,CACxEN,KAAK,CAAC,CAAC,CAAE;AACb,CAAC,IAAM,CACHK,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC,CAC1DF,QAAQ,CAAC,OAAO,CAAC,CACrB,CACJ,CACJ,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAGZ,mBACIF,IAAA,QAAAe,QAAA,cACIf,IAAA,OAAAe,QAAA,CAAI,UAAQ,CAAI,CAAC,CAChB,CAAC,CAEd,CAAC,CAED,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}