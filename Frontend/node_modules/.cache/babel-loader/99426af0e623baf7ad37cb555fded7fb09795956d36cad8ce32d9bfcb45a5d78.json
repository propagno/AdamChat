{"ast":null,"code":"// src/App.js\nimport React,{useEffect}from'react';import{useNavigate}from'react-router-dom';import{getCodeFromUrl,exchangeCodeForToken,login}from'./services/auth';import{jsx as _jsx}from\"react/jsx-runtime\";const App=()=>{const navigate=useNavigate();useEffect(()=>{const code=getCodeFromUrl();if(code){exchangeCodeForToken(code).then(()=>{window.history.replaceState({},document.title,\"/\");// Redireciona para a rota do dashboard no backend\nwindow.location.href=\"/dashboard\";});}else{const token=localStorage.getItem('id_token');if(!token){login();// Redireciona para o Cognito Hosted UI\n}else{// Se o token existir, redireciona para o dashboard\nwindow.location.href=\"/dashboard\";}}},[navigate]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"AdamChat\"})});};export default App;","map":{"version":3,"names":["React","useEffect","useNavigate","getCodeFromUrl","exchangeCodeForToken","login","jsx","_jsx","App","navigate","code","then","window","history","replaceState","document","title","location","href","token","localStorage","getItem","children"],"sources":["C:/Users/dudu-/Python Projects/AdamChat/Frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getCodeFromUrl, exchangeCodeForToken, login } from './services/auth';\r\n\r\nconst App = () => {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const code = getCodeFromUrl();\r\n    if (code) {\r\n      exchangeCodeForToken(code).then(() => {\r\n        window.history.replaceState({}, document.title, \"/\");\r\n        // Redireciona para a rota do dashboard no backend\r\n        window.location.href = \"/dashboard\";\r\n      });\r\n    } else {\r\n      const token = localStorage.getItem('id_token');\r\n      if (!token) {\r\n        login(); // Redireciona para o Cognito Hosted UI\r\n      } else {\r\n        // Se o token existir, redireciona para o dashboard\r\n        window.location.href = \"/dashboard\";\r\n      }\r\n    }\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>AdamChat</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,CAAEC,oBAAoB,CAAEC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,IAAI,CAAGP,cAAc,CAAC,CAAC,CAC7B,GAAIO,IAAI,CAAE,CACRN,oBAAoB,CAACM,IAAI,CAAC,CAACC,IAAI,CAAC,IAAM,CACpCC,MAAM,CAACC,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,CAAEC,QAAQ,CAACC,KAAK,CAAE,GAAG,CAAC,CACpD;AACAJ,MAAM,CAACK,QAAQ,CAACC,IAAI,CAAG,YAAY,CACrC,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC9C,GAAI,CAACF,KAAK,CAAE,CACVd,KAAK,CAAC,CAAC,CAAE;AACX,CAAC,IAAM,CACL;AACAO,MAAM,CAACK,QAAQ,CAACC,IAAI,CAAG,YAAY,CACrC,CACF,CACF,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CAEd,mBACEF,IAAA,QAAAe,QAAA,cACEf,IAAA,OAAAe,QAAA,CAAI,UAAQ,CAAI,CAAC,CACd,CAAC,CAEV,CAAC,CAED,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}